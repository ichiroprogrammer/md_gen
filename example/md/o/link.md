<!-- md/link.md -->
# リンク <a id="SS_3"></a>
このファイルではリンクについて説明する。

## markdownファイルへのリンク <a id="SS_3_1"></a>
一連のmarkdownファイル内の見出しにジャンプするためのリンクを張りたい場合、

        [見出し](---)  

のように書く。例えば、

        [外部ファイルの一部抜粋(インデントの変更なし)](---)

と書けば、「[外部ファイルの一部抜粋(インデントの変更なし)](---)」へジャンプできるようになる。

同じ文字列の見出しXXXが複数個ある場合、

        [SEC1|SEC1.1|XXX](---)  

と書くか、XXXが#一つの見出しであった場合、

        [|XXX](---)  

と書くことで一意のXXXを指定できる。

上記ののリンクを解決するためには、cmd/md_make_db.pyを使用し、
すべてのmdファイルから注した見出しをオブジェクトにしたjsonファイルをを生成する必要がある。

## 外部ファイルの参照 <a id="SS_3_2"></a>
code/example_code.cpp全体を参照したい場合、

        "[code/example_code.cpp](---)"

ように書く。これにより、code/example_code.cppの全体がsample_code.mdに引用され、
見出し「"[code/example_code.cpp](---)"」が作ら、上記にそこへのリンクが張られる。

## pngファイルへのリンク <a id="SS_3_3"></a>
pngファイルをmarkdownドキュメントに取り込みたい場合、

        ![xxx](plant_uml/example.png)  

のように書く。これにより、以下のようにpngを取り込むことができる。

<!-- pu:plant_uml/example.pu--><p><img src="data:image/png;base64,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" /></p>

これはmarkdownの機能であるが、

* cmd/md_compile.py -Dが、このmdファイルのplant_uml/example.pngへの依存を、
  plant_uml/example.puへの依存とする
* Makefileでpuからpngの生成方法を記述する

ことで自動的にpuファイルからpngファイルの生成できる。
また、cmd/md_compile.pyがpngファイルをbase64にエンコードすることで、
markdownドキュメント内に画像ファイルを埋め込む。

## ファイルの生成 <a id="SS_3_4"></a>

### sample_code.mdの生成 <a id="SS_3_4_1"></a>
[リンク|外部ファイルの参照](---)で述べたsample_code.mdは、
cmd/md_sample_section.pyにより生成される。

### index.mdの生成 <a id="SS_3_4_2"></a>
cmd/md_make_db.pyが生成したjsonファイルをcmd/md_join.pyに渡すことで、
mdファイルの見出しのインデックスindex.mdを作ることができる。

index.mdに一部の見出しを載せたくない場合(例えば、同じような見出しの羅列)、
md_make_index.pyに--excludeを指定する。例えば、

        --exclude sample_code.md:2

とすることで、 sample_code.mdファイルの###以上の見出しが削除される。
上記のファイル名の部分はpythonの正規表現を使用することができる。

index.mdに一部の見出しに見出しの次の行の抜粋を載せたい場合、上記と同じ様に、

        --excerpt link.md:2

とすることで、link.mdファイルの###の見出しに、その次の行の抜粋が掲載される。


